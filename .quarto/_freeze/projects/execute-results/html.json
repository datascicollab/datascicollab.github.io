{
  "hash": "db903009f7b375561afe0eb8c704b978",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Setup\"\noutput: html_document\n---\n\n\n### Getting started\n\nCreate your repository by clicking on the `Use this Template` button at [OTTR_Template_Website repository](https://github.com/ottrproject/OTTR_Template_Website)\n\n![](resources/images/create-repo.png)\n\nYou'll need to make your repository `public`.\n\n### Set your GH_PAT\n\nTo enable the GitHub actions, your repository needs to be setup in a specific way.\n\nFor OTTR GitHub actions to run, they need to have credentials through a personal access token.\n\n1. Set up your own personal access token [following these instructions](https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token) - but create a **classic token**. Keep this personal access token handy for the next step. When you get to the permissions page, check the box that says `repo` and select all that is underneath that header. No other permissions are necessary.\n\n<details><summary>Click here for more detailed instructions. The instructions for this step may change with updates to GitHub.</summary>\n\nFirst, go to your username settings, by clicking on your user icon (upper right corner) and scrolling down to settings. \n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](resources/images/usersettings.png){fig-align='center' fig-alt='User settings' width=20%}\n:::\n:::\n\n\n\nNext, scroll all the way down on the far right menu to \"Developer Settings\".\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](resources/images/developer_settings.png){fig-align='center' fig-alt='User settings' width=80%}\n:::\n:::\n\n\n\nThen select \"Personal Access Tokens\" and \"Tokens (classic)\"\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](resources/images/classic_tokens.png){fig-align='center' fig-alt='classic tokens' width=40%}\n:::\n:::\n\n\nThen click \"Generate new token\" and confirm that you want classic.\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](resources/images/generate_classic.png){fig-align='center' fig-alt='generate classic token' width=80%}\n:::\n:::\n\n\nFinally, add a name select all the repo scopes and scroll down to the green button to generate the token. Copy this somewhere safe to then paste into your repository settings. \n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](resources/images/set_up_token.png){fig-align='center' fig-alt='set up token' width=80%}\n:::\n:::\n\n\n</details>\n\n2. In your new OTTR_Template_Website derived repository, go to Settings > Secrets and variables > Actions. Click `New Repository Secret`. \n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](resources/images/repo_action_token.png){fig-align='center' fig-alt='classic tokens' width=80%}\n:::\n:::\n\n\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](resources/images/gh_pat_set_up.png){fig-align='center' fig-alt='new repository secret' width=80%}\n:::\n:::\n\n\n\nIn the window opened, name this new secret `GH_PAT` and paste the personal access token in the box below. (Note that the name `GH_PAT` is specific to how OTTR works and other secret names cannot be used and for OTTR to still work).\n\nClick the green button to add the secret.\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](resources/images/setting_gh_pat.png){fig-align='center' fig-alt='Clicking on settings' width=80%}\n:::\n:::\n\n\n### Allow GitHub Actions\n\nGo to the settings menu for your repository that you created from the template. This should be located at the top of GitHub on the right side. \n\nScroll down to the \"Actions\" button and click it, then click \"General\".\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](resources/images/actions.png){fig-align='center' fig-alt='allowing workflows' width=40%}\n:::\n:::\n\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](resources/images/general.png){fig-align='center' fig-alt='allowing workflows' width=80%}\n:::\n:::\n\n\n\n\nScroll down to the workflow permissions section and select \"Read and write permissions\", then click \"Allow GitHub actions to create and approve pull requests.\n\nFinally, click \"save\".\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](resources/images/workflows.png){fig-align='center' fig-alt='allowing workflows' width=80%}\n:::\n:::\n\n\n### Protect branches\n\n\nAlthough this isn't entirely required, its strongly recommended that you use these settings to protect your `main` branches.\n\nClick on settings in the far upper right corner:\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](resources/images/settings.png){fig-align='center' fig-alt='Clicking on settings' width=80%}\n:::\n:::\n\nClick on branches:\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](resources/images/branches.png){fig-align='center' fig-alt='Clicking on settings' width=80%}\n:::\n:::\n\nClick the add rule button.\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](resources/images/add_rule.png){fig-align='center' fig-alt='Adding rule' width=608}\n:::\n:::\n\nType \"main\" as the branch name pattern:\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](resources/images/main_branch.png){fig-align='center' fig-alt='adding main branch rule' width=80%}\n:::\n:::\n\nClick on the following boxes to require pull requests before merging:\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](resources/images/branch_rule.png){fig-align='center' fig-alt='modify branch rules' width=80%}\n:::\n:::\n\n\nNote that if you have admin privileges on this repository, you will likely still be able to override these branch protections so use caution when git pushing!\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}